<!doctype html>
<es-clause title="Conditional Operator (" anchor="sec-conditional-operator">
  <h2>Syntax</h2>

  <es-production name="ConditionalExpression" params="In, Yield">
    <es-rhs><es-nt params="?In, ?Yield">LogicalORExpression</es-nt></es-rhs>

    <es-rhs><es-nt params="?In,?Yield">LogicalORExpression</es-nt> ? <es-nt params=
    "In, ?Yield">AssignmentExpression</es-nt> : <es-nt params=
    "?In, ?Yield">AssignmentExpression</es-nt></es-rhs>
  </es-production>

  <es-note>
    <p>The grammar for a ConditionalExpression in ECMAScript is slightly different from that in C
    and Java, which each allow the second subexpression to be an Expression but restrict the third
    expression to be a ConditionalExpression. The motivation for this difference in ECMAScript is
    to allow an assignment expression to be governed by either arm of a conditional and to
    eliminate the confusing and fairly useless case of a comma expression as the centre
    expression.</p>
  </es-note>
  <link rel="import" href=
  "conditional-operator\conditional-operator-static-semantics-isanonymousfunctiondefinition.html">
  <link rel="import" href=
  "conditional-operator\conditional-operator-static-semantics-isvalidsimpleassignmenttarget.html">

  <es-clause title="Runtime Semantics: Evaluation" anchor=
  "sec-conditional-operator-runtime-semantics-evaluation">
    <es-production name="ConditionalExpression" class="inline">
      <es-rhs><es-nt>LogicalORExpression</es-nt> ? <es-nt>AssignmentExpression</es-nt> :
      <es-nt>AssignmentExpression</es-nt></es-rhs>
    </es-production>

    <ol class="proc">
      <li>Let <i>lref</i> be the result of evaluating <i>LogicalORExpression</i>.</li>

      <li>Let <i>lval</i> be <a href="#sec-toboolean">ToBoolean</a> (<a href=
      "#sec-getvalue">GetValue</a> (<i>lref</i>)).
      </li>

      <li>
        <a href="#sec-returnifabrupt">ReturnIfAbrupt</a> (<i>lval</i>).
      </li>

      <li>If <i>lval</i> is <b>true</b>, then

        <ol class="block">
          <li>Let <i>trueRef</i> be the result of evaluating the first
          <i>AssignmentExpression</i>.</li>

          <li>Return <a href="#sec-getvalue">GetValue</a> (<i>trueRef</i>).
          </li>
        </ol>
      </li>

      <li>Else

        <ol class="block">
          <li>Let <i>falseRef</i> be the result of evaluating the second
          <i>AssignmentExpression</i>.</li>

          <li>Return <a href="#sec-getvalue">GetValue</a> (<i>falseRef</i>).
          </li>
        </ol>
      </li>
    </ol>
  </es-clause>
</es-clause>
