<!doctype html>
<es-clause title="Static Semantics: Early Errors" anchor=
"sec-for-in-and-for-of-statements-static-semantics-early-errors">
  <es-production name="IterationStatement">
    <es-rhs>for ( <es-nt>LeftHandSideExpression</es-nt> in <es-nt>Expression</es-nt> )
    <es-nt>Statement</es-nt></es-rhs>

    <es-rhs>for ( <es-nt>LeftHandSideExpression</es-nt> of <es-nt>AssignmentExpression</es-nt> )
    <es-nt>Statement</es-nt></es-rhs>
  </es-production>

  <ul>
    <li>
      <p>It is a Syntax Error if <es-nt>LeftHandSideExpression</es-nt> is either an
      <es-nt>ObjectLiteral</es-nt> or an <es-nt>ArrayLiteral</es-nt> and if the lexical token
      sequence matched by <es-nt>LeftHandSideExpression</es-nt> cannot be parsed with no tokens
      left over using <es-nt>AssignmentPattern</es-nt> as the goal symbol.</p>
    </li>

    <li>
      <p>If <es-nt>LeftHandSideExpression</es-nt> is either an <es-nt>ObjectLiteral</es-nt> or an
      <es-nt>ArrayLiteral</es-nt> and if the lexical token sequence matched by
      <es-nt>LeftHandSideExpression</es-nt> can be parsed with no tokens left over using
      <es-nt>AssignmentPattern</es-nt> as the goal symbol then the following rules are not applied.
      Instead, the Early Error rules for <es-nt>AssignmentPattern</es-nt> are used.</p>
    </li>

    <li>
      <p>It is a Syntax Error if <es-nt>LeftHandSideExpression</es-nt> is a
      <es-nt>IdentifierReference</es-nt> that can be statically determined to always resolve to a
      <es-xref target="sec-declarative-environment-records">declarative environment
      record</es-xref> binding and the resolved binding is an immutable binding.</p>
    </li>

    <li>
      <p>It is a Syntax Error if <es-nt>LeftHandSideExpression</es-nt> is neither an
      <es-nt>ObjectLiteral</es-nt> nor an <es-nt>ArrayLiteral</es-nt> and
      IsValidSimpleAssignmentTarget of <es-nt>LeftHandSideExpression</es-nt> is <span class=
      "value">false</span>.</p>
    </li>

    <li>
      <p>It is a Syntax Error if the <es-nt>LeftHandSideExpression</es-nt> is
      <es-production name="CoverParenthesisedExpressionAndArrowParameterList" class=
      "inline"><es-rhs><es-t>(</es-t> <es-nt>Expression</es-nt>
      <es-t>)</es-t></es-rhs></es-production> and <es-nt>Expression</es-nt> derives a
      production that would produce a Syntax Error according to these rules if that production is
      substituted for <es-nt>LeftHandSideExpression</es-nt>. This rule is recursively applied.</p>
    </li>
  </ul>

  <es-note>
    <p>The last rule means that the other rules are applied even if multiple levels of nested
    parenthesises surround <es-nt>Expression</es-nt>.</p>
  </es-note>

  <es-production name="IterationStatement">
    <es-rhs>for ( <es-nt>ForDeclaration</es-nt> in <es-nt>Expression</es-nt> )
    <es-nt>Statement</es-nt></es-rhs>

    <es-rhs>for ( <es-nt>ForDeclaration</es-nt> of <es-nt>AssignmentExpression</es-nt> )
    <es-nt>Statement</es-nt></es-rhs>
  </es-production>

  <ul>
    <li>
      <p>It is a Syntax Error if any element of the BoundNames of <es-nt>ForDeclaration</es-nt>
      also occurs in the VarDeclaredNames of <es-nt>Statement</es-nt>.</p>
    </li>
  </ul>
</es-clause>
