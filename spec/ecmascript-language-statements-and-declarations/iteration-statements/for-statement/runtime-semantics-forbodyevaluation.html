<!doctype html>
<es-clause title="Runtime Semantics: ForBodyEvaluation" anchor=
"sec-runtime-semantics-forbodyevaluation">
  <p>The abstract operation ForBodyEvaluation with arguments <es-nt>testExpr</es-nt>,
  <es-nt>incrementExpr</es-nt>, <es-nt>stmt</es-nt>, and <es-nt>labelSet</es-nt> is performed as
  follows:</p>

  <ol class="proc">
    <li>Let <i>V</i> = <b>undefined</b>.</li>

    <li>Repeat

      <ol class="block">
        <li>If <i>testExpr</i> is not [empty], then

          <ol class="block">
            <li>Let <i>testExprRef</i> be the result of evaluating <i>testExpr</i>.</li>

            <li>Let <i>testExprValue</i> be <es-xref target=
            "sec-toboolean">ToBoolean</es-xref>(<es-xref target=
            "sec-getvalue">GetValue</es-xref>(<i>testExprRef</i>))</li>

            <li>If <i>testExprValue</i> is <b>false</b>, return <es-xref target=
            "sec-normalcompletion">NormalCompletion</es-xref>(<i>V</i>).</li>

            <li>Else if <es-xref target="sec-loopcontinues">LoopContinues</es-xref>
            (<i>testExprValue</i>,<i>labelSet</i>) is <b>false</b>, return
            <i>testExprValue.</i></li>
          </ol>
        </li>

        <li>Let <i>result</i> be the result of evaluating <i>stmt</i>.</li>

        <li>If <i>result</i>.[[value]] is not empty, let <i>V</i> = <i>result</i>.[[value]].</li>

        <li>If <es-xref target="sec-loopcontinues">LoopContinues</es-xref>
        (<i>result</i>,<i>labelSet</i>) is <b>false</b>, return <i>result</i>.</li>

        <li>If <i>incrementExpr</i> is not [empty], then

          <ol class="block">
            <li>Let <i>incExprRef</i> be the result of evaluating <i>incrementExpr</i>.</li>

            <li>Let <i>incExprValue</i> be <es-xref target=
            "sec-getvalue">GetValue</es-xref>(<i>incExprRef</i>).</li>

            <li>If <es-xref target=
            "sec-loopcontinues">LoopContinues</es-xref>(<i>incExprValue</i>,<i>labelSet</i>) is
            <b>false</b>, return <i>incExprValue.</i></li>
          </ol>
        </li>
      </ol>
    </li>
  </ol>
</es-clause>
