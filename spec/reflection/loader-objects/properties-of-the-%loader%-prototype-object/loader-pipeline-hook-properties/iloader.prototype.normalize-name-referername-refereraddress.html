<!doctype html>
<es-clause title="iLoader.prototype.normalize ( name, refererName, refererAddress )" anchor=
"sec-iloader.prototype.normalize-name-referername-refereraddress">
  <p>When the <code>normalize</code> loader hook is called with arguments <es-nt>name</es-nt>,
  <es-nt>refererName</es-nt>, and <es-nt>refererAddress</es-nt> <es-nt>loadRequest</es-nt>, the
  following steps are taken:</p>

  <ol class="proc">
    <li><es-xref target="sec-algorithm-conventions">Assert</es-xref>: <es-xref target=
    "sec-ecmascript-data-types-and-values">Type</es-xref>(<i>name</i>) is String.</li>

    <li>Return <i>name</i>.</li>
  </ol>

  <p>This is a Loader hook that may be over-riden by an own property of Loader instances. The
  <code>normalize</code> hook is called once per distinct <es-nt>ModuleSpecifier</es-nt> String
  value in a <es-nt>ModuleBody</es-nt>, while the module <es-nt>ModuleBody</es-nt> with that is
  being loaded. The <es-nt>name</es-nt> argument is the <es-xref target=
  "sec-identifiers-and-identifier-names">StringValue</es-xref> of a
  <es-nt>ModuleSpecifier</es-nt>.</p>

  <p>The <code>normalize</code> hook returns an eventual String, the normalised module name, which
  is used for the rest of the import process. In particular, the [[Loads]] and [[Modules]] Lists of
  a ModuleLinkage record are both keyed by normalised module names. The module registry contains at
  most one module for a given normalised module name.</p>

  <p>After calling this hook, if the normalised module <es-nt>name</es-nt> is in the registry or
  the load table, no new Load Record is created. Otherwise the loader initialtes a load for that
  module that starts by calling the <code>locate</code> hook.</p>
</es-clause>
