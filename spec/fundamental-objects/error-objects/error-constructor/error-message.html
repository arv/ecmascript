<!doctype html>
<es-clause title="Error (message)" anchor="sec-error-message">
  <p>When the <code>Error</code> function is called with argument <i>message</i> the following
  steps are taken:</p>

  <ol class="proc">
    <li>Let <i>func</i> be this <code>Error</code> function object.</li>

    <li>Let <i>O</i> be the <b>this</b> value.</li>

    <li>If <es-xref target="sec-ecmascript-data-types-and-values">Type</es-xref>(<i>O</i>) is not
    Object or <es-xref target="sec-ecmascript-data-types-and-values">Type</es-xref>(<i>O</i>) is
    Object and <i>O</i> does not have an [[ErrorData]] <es-xref target=
    "sec-object-internal-methods-and-internal-slots">internal slot</es-xref> or <es-xref target=
    "sec-ecmascript-data-types-and-values">Type</es-xref>(<i>O</i>) is Object and <i>O</i> has an
    [[ErrorData]] <es-xref target="sec-object-internal-methods-and-internal-slots">internal
    slot</es-xref> and the value of [[ErrorData]] is not <b>undefined</b>, then

      <ol class="block">
        <li>Let <i>O</i> be the result of calling <es-xref target=
        "sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</es-xref>(<i>func</i>,
        <code>"%ErrorPrototype%"</code>,<br>
        ( [[ErrorData]]) ).</li>

        <li><es-xref target="sec-returnifabrupt">ReturnIfAbrupt</es-xref>(<i>O</i>).</li>
      </ol>
    </li>

    <li><es-xref target="sec-algorithm-conventions">Assert</es-xref>: <es-xref target=
    "sec-ecmascript-data-types-and-values">Type</es-xref>(<i>O</i>) is Object.</li>

    <li>Set the value of <i>Oâ€™s</i> [[ErrorData]] <es-xref target=
    "sec-object-internal-methods-and-internal-slots">internal slot</es-xref> to any value other
    than <b>undefined</b>.</li>

    <li>If <i>message</i> is not <b>undefined</b>, then

      <ol class="block">
        <li>Let <i>msg</i> be <es-xref target=
        "sec-tostring">ToString</es-xref>(<i>message</i>).</li>

        <li><es-xref target="sec-returnifabrupt">ReturnIfAbrupt</es-xref>(<i>msg</i>).</li>

        <li>Let <i>msgDesc</i> be the PropertyDescriptor{[[Value]]: <i>msg</i>, [[Writable]]:
        <b>true</b>, [[Enumerable]]: <b>false</b>, [[Configurable]]: <b>true</b>}.</li>

        <li>Let <i>status</i> be the result of <es-xref target=
        "sec-definepropertyorthrow">DefinePropertyOrThrow</es-xref>(<i>O</i>,
        "<code>message</code>", <i>msgDesc</i>).</li>

        <li><es-xref target="sec-returnifabrupt">ReturnIfAbrupt</es-xref>(<i>status</i>).</li>
      </ol>
    </li>

    <li>Return <i>O</i>.</li>
  </ol>
</es-clause>
