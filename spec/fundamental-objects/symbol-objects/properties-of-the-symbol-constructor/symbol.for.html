<!doctype html>
<es-clause title="Symbol.for (key)" anchor="sec-symbol.for">
  <p>When <code>Symbol.for</code> is called with argument <es-nt>key</es-nt> it performs the
  following steps:</p>

  <ol class="proc">
    <li>Let <i>stringKey</i> be <a href="#sec-tostring">ToString</a> (<i>key</i>).
    </li>

    <li>
      <a href="#sec-returnifabrupt">ReturnIfAbrupt</a> (<i>stringKey)</i>.
    </li>

    <li>For each element <i>e</i> of the GlobalSymbolRegistry <a href=
    "#sec-list-and-record-specification-type">List</a> ,

      <ol class="block">
        <li>If <a href="#sec-samevalue">SameValue</a> (<i>e</i>.[[key]], <i>stringKey</i>) is
        <b>true</b>, then return <i>e</i>.[[symbol]].
        </li>
      </ol>
    </li>

    <li>
      <a href="#sec-algorithm-conventions">Assert</a> : GlobalSymbolRegistry does not current
      contain an entry for <i>stringKey</i>.
    </li>

    <li>Let <i>newSymbol</i> be a new unique Symbol value whose [[Description]] is
    <i>stringKey</i>.</li>

    <li>Append the record { [[key]]: <i>stringKey</i>, [[symbol]]: <i>newSymbol</i>) to the
    GlobalSymbolRegistry <a href="#sec-list-and-record-specification-type">List</a> .
    </li>

    <li>Return <i>newSumbol</i>.</li>
  </ol>

  <p>The GlobalSymbolRegistry is a <a href="#sec-list-and-record-specification-type">List</a> that
  is globally available. It is shared by all Code Realms. Prior to the evaluation of any ECMAScript
  code it is initialised as an empty <a href="#sec-list-and-record-specification-type">List</a> .
  Elements of the GlobalSymbolRegistry are Records with the structure defined in <a href=
  "#table-38">Table 38</a> .</p>

  <figure>
    <figcaption>
      <span id="table-38">Table 38</span> â€” GlobalSymbolRegistry Record Fields
    </figcaption>

    <table class="real-table">
      <tr>
        <th style=
        "border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 0px solid black; border-top: 2px solid #000000">
        Field Name</th>

        <th style=
        "border-bottom: 1px solid #000000; border-left: 0px solid black; border-right: 1px solid #000000; border-top: 2px solid #000000">
        Value</th>

        <th style=
        "border-bottom: 1px solid #000000; border-right: 1px solid #000000; border-top: 2px solid #000000">
        Usage</th>
      </tr>

      <tr>
        <td>[[key]]</td>

        <td>A String</td>

        <td>A string key used to globally identify a Symbol.</td>
      </tr>

      <tr>
        <td>[[symbol]]</td>

        <td>A Symbol</td>

        <td>
          A symbol that can be retrieved from any <a href="#sec-code-realms">Realm</a> .
        </td>
      </tr>
    </table>
  </figure>
</es-clause>
