<!doctype html>
<es-clause title="Array.prototype.fill (value, start = 0, end = this.length)" anchor=
"sec-array.prototype.fill">
  <p>The <code>fill</code> method takes up to three arguments <es-nt>value</es-nt>,
  <es-nt>start</es-nt> and <es-nt>end</es-nt>. The <es-nt>start</es-nt> and <es-nt>end</es-nt>
  arguments are optional with default values of 0 and the length of the <b>this</b> object. If
  <es-nt>start</es-nt> is negative, it is treated as <i>length</i>+<i>start</i> where
  <es-nt>length</es-nt> is the length of the array. If <es-nt>end</es-nt> is negative, it is
  treated as <i>length</i>+<i>end</i>. The following steps are taken:</p>

  <ol class="proc">
    <li>Let <i>O</i> be the result of calling <a href="#sec-toobject">ToObject</a> passing the <b>
      this</b> value as the argument.
    </li>

    <li>
      <a href="#sec-returnifabrupt">ReturnIfAbrupt</a> (<i>O</i>).
    </li>

    <li>Let <i>lenVal</i> be the result of <a href="#sec-get-o-p">Get</a> (<i>O</i>,
    <code>"length"</code>).
    </li>

    <li>Let <i>len</i> be <a href="#sec-tolength">ToLength</a> (<i>lenVal</i>).
    </li>

    <li>
      <a href="#sec-returnifabrupt">ReturnIfAbrupt</a> (<i>len</i>).
    </li>

    <li>Let <i>relativeStart</i> be <a href="#sec-tointeger">ToInteger</a> (<i>start</i>).
    </li>

    <li>
      <a href="#sec-returnifabrupt">ReturnIfAbrupt</a> (<i>relativeStart</i>).
    </li>

    <li>If <i>relativeStart</i> is negative, let <i>k</i> be max((<i>len</i> +
    <i>relativeStart</i>),0); else let <i>k</i> be min(<i>relativeStart</i>, <i>len</i>).</li>

    <li>If <i>end</i> is <b>undefined</b>, let <i>relativeEnd</i> be <i>len</i>; else let
    <i>relativeEnd</i> be <a href="#sec-tointeger">ToInteger</a> (<i>end</i>).
    </li>

    <li>
      <a href="#sec-returnifabrupt">ReturnIfAbrupt</a> (<i>relativeEnd</i>).
    </li>

    <li>If <i>relativeEnd</i> is negative, let <i>final</i> be max((<i>len</i> +
    <i>relativeEnd</i>),0); else let <i>final</i> be min(<i>relativeEnd</i>, <i>len</i>).</li>

    <li>Repeat, while <i>k</i> &lt; <i>final</i>

      <ol class="block">
        <li>Let <i>Pk</i> be <a href="#sec-tostring">ToString</a> (<i>k</i>).
        </li>

        <li>Let <i>putStatus</i> be the result of <a href="#sec-put-o-p-v-throw">Put</a> (<i>O</i>,
        <i>Pk</i>, <i>value</i>, <b>true</b>).
        </li>

        <li>
          <a href="#sec-returnifabrupt">ReturnIfAbrupt</a> (<i>putStatus</i>).
        </li>

        <li>Increase <i>k</i> by 1.</li>
      </ol>
    </li>

    <li>Return <i>O</i>.</li>
  </ol>

  <p>The <code>length</code> property of the <code>fill</code> method is <b>1</b>.</p>

  <es-note>
    <p>The <code>fill</code> function is intentionally generic; it does not require that its
    <b>this</b> value be an Array object. Therefore it can be transferred to other kinds of objects
    for use as a method. Whether the <code>fill</code> function can be applied successfully to an
    exotic object that is not an Array is implementation-dependent.</p>
  </es-note>
</es-clause>
