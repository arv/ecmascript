<!doctype html>
<es-clause title="Array ( [ item1 [ , item2 [ , … ] ] ] )" anchor="sec-array-item1-item2">
  <p>This description applies if and only if the Array constructor is called with no arguments or
  at least two arguments.</p>

  <p>When the <code>Array</code> function is called the following steps are taken:</p>

  <ol class="proc">
    <li>Let <i>numberOfArgs</i> be the number of arguments passed to this constructor call.</li>

    <li>
      <a href="#sec-algorithm-conventions">Assert</a> : <i>numberOfArgs</i> ≠ 1.
    </li>

    <li>Let <i>O</i> be the <b>this</b> value.</li>

    <li>If <a href="#sec-ecmascript-data-types-and-values">Type</a> (<i>O</i>) is Object and
    <i>O</i> has an [[ArrayInitialisationState]] <a href=
    "#sec-object-internal-methods-and-internal-slots">internal slot</a> and the value of
    [[ArrayInitialisationState]] is <b>false</b>, then

      <ol class="block">
        <li>Set the value of <i>O’s</i> [[ArrayInitialisationState]] <a href=
        "#sec-object-internal-methods-and-internal-slots">internal slot</a> to <b>true</b>.
        </li>

        <li>Let <i>array</i> be <i>O</i>.</li>
      </ol>
    </li>

    <li>Else,

      <ol class="block">
        <li>Let <i>F</i> be this function.</li>

        <li>Let <i>proto</i> be the result of <a href=
        "#sec-getprototypefromconstructor">GetPrototypeFromConstructor</a> (<i>F</i>,
        <code>"%ArrayPrototype%"</code>).
        </li>

        <li>
          <a href="#sec-returnifabrupt">ReturnIfAbrupt</a> (<i>proto</i>).
        </li>

        <li>Let <i>array</i> be the result of the abstract operation <a href=
        "#sec-arraycreate">ArrayCreate</a> with arguments <i>numberOfArgs</i> and <i>proto</i> .
        </li>
      </ol>
    </li>

    <li>
      <a href="#sec-returnifabrupt">ReturnIfAbrupt</a> (<i>array</i>).
    </li>

    <li>Let <i>k</i> be 0.</li>

    <li>Let <i>items</i> be a zero-origined <a href=
    "#sec-list-and-record-specification-type">List</a> containing the argument items in order.
    </li>

    <li>Repeat, while <i>k</i> &lt; <i>numberOfArgs</i>

      <ol class="block">
        <li>Let <i>Pk</i> be <a href="#sec-tostring">ToString</a> (<i>k</i>).
        </li>

        <li>Let <i>itemK</i> be <i>k</i><sup>th</sup> element of <i>items</i>.</li>

        <li>Let <i>defineStatus</i> be the result of <a href=
        "#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a> (<i>array</i>, <i>Pk</i>,
        <i>itemK</i>).
        </li>

        <li>
          <a href="#sec-returnifabrupt">ReturnIfAbrupt</a> (<i>defineStatus</i>).
        </li>

        <li>Increase <i>k</i> by 1.</li>
      </ol>
    </li>

    <li>Let <i>putStatus</i> be the result of <a href="#sec-put-o-p-v-throw">Put</a> (<i>array</i>,
    <code>"length"</code>, <i>numberOfArgs</i>, <b>true</b>).
    </li>

    <li>
      <a href="#sec-returnifabrupt">ReturnIfAbrupt</a> (<i>putStatus</i>).
    </li>

    <li>Return <i>array</i>.</li>
  </ol>
</es-clause>
