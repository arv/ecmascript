<!doctype html>
<es-clause title="Array ( [ item1 [ , item2 [ , … ] ] ] )" anchor="sec-array-item1-item2">
  <p>This description applies if and only if the Array constructor is called with no arguments or
  at least two arguments.</p>

  <p>When the <code>Array</code> function is called the following steps are taken:</p>

  <ol class="proc">
    <li>Let <i>numberOfArgs</i> be the number of arguments passed to this constructor call.</li>

    <li><es-xref target="sec-algorithm-conventions">Assert</es-xref>: <i>numberOfArgs</i> ≠ 1.</li>

    <li>Let <i>O</i> be the <b>this</b> value.</li>

    <li>If <es-xref target="sec-ecmascript-data-types-and-values">Type</es-xref>(<i>O</i>) is
    Object and <i>O</i> has an [[ArrayInitialisationState]] <es-xref target=
    "sec-object-internal-methods-and-internal-slots">internal slot</es-xref> and the value of
    [[ArrayInitialisationState]] is <b>false</b>, then

      <ol class="block">
        <li>Set the value of <i>O’s</i> [[ArrayInitialisationState]] <es-xref target=
        "sec-object-internal-methods-and-internal-slots">internal slot</es-xref> to
        <b>true</b>.</li>

        <li>Let <i>array</i> be <i>O</i>.</li>
      </ol>
    </li>

    <li>Else,

      <ol class="block">
        <li>Let <i>F</i> be this function.</li>

        <li>Let <i>proto</i> be the result of <es-xref target=
        "sec-getprototypefromconstructor">GetPrototypeFromConstructor</es-xref>(<i>F</i>,
        <code>"%ArrayPrototype%"</code>).</li>

        <li><es-xref target="sec-returnifabrupt">ReturnIfAbrupt</es-xref>(<i>proto</i>).</li>

        <li>Let <i>array</i> be the result of the abstract operation <es-xref target=
        "sec-arraycreate">ArrayCreate</es-xref> with arguments <i>numberOfArgs</i> and <i>proto</i>
        .</li>
      </ol>
    </li>

    <li><es-xref target="sec-returnifabrupt">ReturnIfAbrupt</es-xref>(<i>array</i>).</li>

    <li>Let <i>k</i> be 0.</li>

    <li>Let <i>items</i> be a zero-origined <es-xref target=
    "sec-list-and-record-specification-type">List</es-xref> containing the argument items in
    order.</li>

    <li>Repeat, while <i>k</i> &lt; <i>numberOfArgs</i>

      <ol class="block">
        <li>Let <i>Pk</i> be <es-xref target="sec-tostring">ToString</es-xref>(<i>k</i>).</li>

        <li>Let <i>itemK</i> be <i>k</i><sup>th</sup> element of <i>items</i>.</li>

        <li>Let <i>defineStatus</i> be the result of <es-xref target=
        "sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</es-xref>(<i>array</i>,
        <i>Pk</i>, <i>itemK</i>).</li>

        <li><es-xref target=
        "sec-returnifabrupt">ReturnIfAbrupt</es-xref>(<i>defineStatus</i>).</li>

        <li>Increase <i>k</i> by 1.</li>
      </ol>
    </li>

    <li>Let <i>putStatus</i> be the result of <es-xref target=
    "sec-put-o-p-v-throw">Put</es-xref>(<i>array</i>, <code>"length"</code>, <i>numberOfArgs</i>,
    <b>true</b>).</li>

    <li><es-xref target="sec-returnifabrupt">ReturnIfAbrupt</es-xref>(<i>putStatus</i>).</li>

    <li>Return <i>array</i>.</li>
  </ol>
</es-clause>
